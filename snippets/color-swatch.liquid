{%- liquid
  assign color_handle = 'color-code-' | append: color
  assign color_metaobject = shop.metaobjects.color_codes_hex[color_handle]
-%}
<a
        href="{% if variant_color %}{{ variant_color.url }}{% else %}#{% endif %}"
        class="card__product-color-list__button bt-tooltip por db{% if color_swatches_style == 'variant' %} card__product-color-list__button--variant{% if variant_color != null %} color-swatch-own-image{% endif %}{% endif %}"
        {% if srcset != '' %}
          data-srcset="{{ srcset | escape }}"
        {% endif %}
        data-color="{{ color | handleize }}"
        {%- if color_swatches_style != 'variant'
        or variant_color == null
        or variant_color.featured_image == blank
        -%}
          style="background: {{ color_metaobject.color_hex_list.value | first | color_to_rgb }}"
        {% endif %}
>
  {%- if color_swatches_style == 'variant'
    and variant_color != null
    and variant_color.featured_image != blank
  -%}
    <img
            src="{{ variant_color.featured_image | image_url: width: 100, height: 100, crop: 'center' }}"
            width="100"
            height="100"
            loading="lazy"
            class="w100 h100"
            alt="{{ card_product.title | escape }} - {{ color | escape }}"
    >
  {%- endif -%}
  <span class="bt-tooltip__inner bt-tooltip__inner--top">
    {{- color_metaobject.search_words.value | first | capitalize -}}
  </span>
</a>