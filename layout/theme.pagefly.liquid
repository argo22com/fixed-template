{% comment %}
This file is auto-generated by PageFly. The content can be overridden when publish page in PageFly. Please do not update this file directly.
If you plan to remove PageFly, please see the guide in our help center first: https://help.pagefly.io/.
{% endcomment %}
{%- capture direction -%}{%- render 'direction' -%}{%- endcapture -%}
<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}" dir="{{ direction }}">
  <head>
	<!-- Added by AVADA SEO Suite -->
	{% include 'avada-seo' %}
	<!-- /Added by AVADA SEO Suite -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <meta name="p:domain_verify" content="a12b5609c45aeb2f1bfbeff0fe303f0f"/>

    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    {%- liquid
      assign body_font = settings.type_body_font
      assign heading_font = settings.type_header_font
      assign body_font_bold_weight = body_font.weight | plus: 300 | at_most: 1000 | append: ''
      assign body_font_bold = body_font | font_modify: 'weight', body_font_bold_weight
      unless body_font_bold
        assign body_font_bold = body_font | font_modify: 'weight', 'bold'
      endunless
      assign body_font_italic = body_font | font_modify: 'style', 'italic'
      assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic'
      if settings.auto_generate_font_weight
        assign body_font_medium_weight = body_font.weight | plus: 100 | at_most: 600 | at_least: body_font.weight | append: ''
        assign body_font_medium = body_font | font_modify: 'weight', body_font_medium_weight

        assign body_font_large_weight = body_font.weight | plus: 200 | at_most: 600 | at_least: body_font.weight | append: ''
        assign body_font_large = body_font | font_modify: 'weight', body_font_large_weight
        
        assign heading_font_bold_weight = heading_font.weight | plus: 300 | at_most: 1000 | append: ''
        assign heading_font_bold = heading_font | font_modify: 'weight', heading_font_bold_weight
        unless heading_font_bold
          assign heading_font_bold = heading_font | font_modify: 'weight', 'bold'
        endunless

        assign heading_font_bold_rte = heading_font_bold
        
        assign heading_font_medium_weight = heading_font.weight | plus: 100 | at_most: 600 | at_least: heading_font.weight | append: ''
        assign heading_font_medium = heading_font | font_modify: 'weight', heading_font_medium_weight
        
        assign heading_font_semi_bold_weight = heading_font.weight | plus: 200 | at_most: 600 | at_least: heading_font.weight | append: ''
        assign heading_font_semi_bold = heading_font | font_modify: 'weight', heading_font_semi_bold_weight
      else
        assign body_font_medium = body_font
        assign body_font_large = body_font
        
        assign heading_font_bold = heading_font

        assign heading_font_bold_rte = heading_font | font_modify: 'weight', 'bold'
        assign heading_font_medium = heading_font
        
        assign heading_font_semi_bold = heading_font
      endif  
    %}

    {% # theme-check-disable AssetPreload %}
    {%- unless settings.type_body_font.system? -%}
      <link rel="preload" as="font" href="{{ body_font | font_url }}" type="font/woff2" crossorigin>
      {%- if body_font != body_font_bold -%}
        <link rel="preload" as="font" href="{{ body_font_bold | font_url }}" type="font/woff2" crossorigin>
      {%- endif -%}
    {%- endunless -%}

    {%- unless settings.type_header_font.system? -%}
      {%- if heading_font != body_font and heading_font != body_font_bold -%}
        <link rel="preload" as="font" href="{{ heading_font | font_url }}" type="font/woff2" crossorigin>
      {%- endif -%}
      {%- if heading_font_bold != body_font_bold and heading_font_bold != body_font and heading_font_bold != heading_font -%}
        <link rel="preload" as="font" href="{{ heading_font_bold | font_url }}" type="font/woff2" crossorigin>
      {%- endif -%}
    {%- endunless -%}
    {% # theme-check-enable AssetPreload %}

    {%- unless request.page_type == 'list-collections' -%}
      <title>
        {{ page_title }}
        {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
        {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      </title>

      {% if page_description %}
        <meta name="description" content="{{ page_description | escape }}">
      {% endif %}
    {%- else -%}
      <title>{{ settings.collections_list_meta_title | default: page_title }}</title>
      <meta name="description" content="{{ settings.collections_list_meta_description | default: page_description | escape }}">
    {%- endunless -%}

    {%- render 'meta-tags' -%}

    <script>
      window.shopUrl = '{{ request.origin }}';
      window.routes = {
        cart_url: '{{ routes.cart_url }}',
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}',
        search_url: '{{ routes.search_url }}',
        product_recommendations_url: '{{ routes.product_recommendations_url }}'
      };

      window.photoswipeUrls = {
        lib: '{{ "photoswipe.umd.min.js" | asset_url }}',
        loaded: false
      };

      window.hasQuickAddDrawer = {% if request.design_mode and request.page_type == 'product' %}true{% else %}false{% endif %};
      window.hasQuickViewModal = {% if request.design_mode and request.page_type == 'product' %}true{% else %}false{% endif %};

      window.cartStrings = {
        error: `{{ 'sections.cart.cart_error' | t }}`,
        quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`,
        success: `{{ 'sections.cart.cart_success' | t }}`
      }

      window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
        unavailable_with_option: `{{ 'products.product.value_unavailable' | t: option_value: '[value]' }}`
      }

      window.accessibilityStrings = {
        imageAvailable: `{{ 'products.product.media.image_available' | t: index: '[index]' }}`,
        shareSuccess: `{{ 'general.share.success_message' | t }}`,
        copyToClipboard: `{{ 'general.share.copy_to_clipboard' | t }}`,
        pauseSlideshow: `{{ 'sections.slideshow.pause_slideshow' | t }}`,
        playSlideshow: `{{ 'sections.slideshow.play_slideshow' | t }}`,
        {%- if request.design_mode -%}countdownErrorMsg: `{{ 'general.countdown.error_msg' | t }}`,{%- endif -%}
        countdownExpiredMsg: `{{ 'general.countdown.expired_msg' | t }}`
      };

      {%- if settings.recently_viewed_enable -%}
        window.recentlyViewedStrings = {
          empty: {{ 'general.floating_bar.recently_viewed_empty' | t | json }}
        };
        window.recentlyViewedLimit = {{ settings.recently_viewed_products_to_show }};
        {%- if request.page_type == 'product' and product -%}
          window.currentProduct = {
            id: {{ product.id | json }},
            url: {{ product.url | json }},
            image: {{ product.featured_media | image_url: width: 100 | json }}
          };
        {%- endif -%}
      {%- endif -%}

      {%- if settings.enable_product_compare -%}
        window.addedCompareStrings = {
          success: {{ 'templates.compare.success' | t | json }}
        };
      {%- endif -%}

      {%- if settings.free_shipping_enable -%}
        window.freeShippingBarExcludeProducts = {%- if settings.free_shipping_exclude_products != blank and settings.free_shipping_exclude_products.count > 0 -%}{{ settings.free_shipping_exclude_products | map: 'id' | json }}{%- else -%}[]{%- endif -%};
      {%- endif -%}  

      window.moneyFormat = {% unless settings.currency_code_enabled %}{{ shop.money_format | json }}{% else %}{{ shop.money_with_currency_format | json }}{% endunless %};
      window.loadedBackgroundColorSwatches = {%- if request.design_mode or template.name == 'collection' or template.name == 'search' -%}true{%- else -%}false{%- endif -%};
      window.currencyMain = {{ shop.currency | json }};
      window.appearAnimate = {% if settings.enable_appear_effect %}true{% else %}false{% endif %};
      window.hideUnavailableOptions = {{ settings.hide_unavailable_options | json }};
    </script>
    {%- if settings.google_maps_api_key != blank -%}
      <script>
        (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
          key: "{{ settings.google_maps_api_key }}",
          v: "weekly"
        });
      </script>
    {%- endif -%}

    {{ content_for_header }}

    <script src="{{ 'critical-global.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'motion.min.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'swiper.js' | asset_url }}" defer="defer"></script>

    {%- render 'critical-inline-styles', body_font: body_font, body_font_bold: body_font_bold, body_font_medium: body_font_medium, body_font_large: body_font_large, body_font_italic: body_font_italic, body_font_bold_italic: body_font_bold_italic, heading_font: heading_font, heading_font_bold: heading_font_bold, heading_font_medium: heading_font_medium, heading_font_semi_bold: heading_font_semi_bold, heading_font_bold_rte: heading_font_bold_rte, only_variables: false, direction: direction -%}

    {{ 'critical-base.css' | asset_url | stylesheet_tag: preload: true }}
    {{ 'custom.css' | asset_url | stylesheet_tag: preload: true }}
    <link rel="stylesheet" href="{{ 'component-card.css' | asset_url }}" media="print" onload="this.media='all'">
    {%- if customer.b2b? -%}
      {%- unless request.page_type == 'collection' or request.page_type == 'product' or request.page_type == 'search' -%}
        <link rel="stylesheet" href="{{ 'component-volume-pricing-note.css' | asset_url }}" media="print" onload="this.media='all'">
      {%- else -%}
        {{ 'component-volume-pricing-note.css' | asset_url | stylesheet_tag }}
      {%- endunless -%}
    {%- endif -%}

    <script>document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    if (Shopify.designMode) {
      document.documentElement.classList.add('shopify-design-mode');
    }
    </script>

    <script>
        document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
        if (Shopify.designMode) {
            document.documentElement.classList.add('shopify-design-mode');
        }
    </script>
    <script defer src="https://static.cdn-apple.com/businesschat/start-chat-button/2/index.js"></script>

    <script
            type="text/javascript"
    >
        const mluviiServer = "//app.mluvii.com/widget/OOWidget.js";
        const widgetGuid = "8703a057-c4b9-4f1c-abc1-eb987962f4b4";
        const appleBussinessID = "0af3daf7-5f90-4c5e-8a5a-64a6c88b2ed1";
        const appleIntent = "mluvii";
        const widgetName = "FIXED";
        const iconScale = 1.5;
        const marginBottom = 20;
        const marginRight = 20;
        const widgetColor = "#ffffff";
        const widgetBackgroundColor = "#00aae9";

        // Kontrola podpory Apple Business Chat
        function isAppleBusinessChatSupported() {
            return window.appleBusinessChat && window.appleBusinessChat.isSupported();
        }

        console.log('Apple Business Chat supported:', isAppleBusinessChatSupported());

        // Načtení mluvii nebo Apple Business Chat widgetu
        if (!window.appleBusinessChat || !window.appleBusinessChat.isSupported()) { //if (!isAppleBusinessChatSupported()) {
            loadMluviiWidget();
            console.log('Webchat widget loaded!');
        } else {
            loadAppleBusinessChat();
            console.log('Apple widget loaded!');
        }


        // Funkce pro načtení mluvii widgetu
        function loadMluviiWidget() {
            let script = document.createElement('script');
            script.type = 'text/javascript';
            script.charset = 'UTF-8';
            script.async = true;
            script.src = mluviiServer;
            script.$owidgetOnLoad = function (owidget) {
                if (!owidget.isSupported) return;
                owidget.init(widgetGuid, widgetName);
                owidget.connectToServer();
            };
            let firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(script, firstScriptTag);
        }
        // Funkce pro načtení Apple Business Chat widgetu
        function loadAppleBusinessChat() {
            let container = document.createElement('div');
            container.style.cssText = `position: fixed; bottom: ${marginBottom}px; right: ${marginRight}px; width: ${45 * iconScale}px; height: ${45 * iconScale}px; float: right; z-index: 9999;`;
            let widget = document.createElement('div');
            widget.className = 'apple-business-chat-message-container';
            widget.setAttribute('data-apple-business-id', appleBussinessID);
            widget.setAttribute('data-apple-business-intent-id', appleIntent);
            widget.setAttribute('data-apple-icon-scale', iconScale.toString());
            widget.setAttribute('data-apple-icon-color', widgetColor);
            widget.setAttribute('data-apple-icon-background-color', widgetBackgroundColor);
            container.appendChild(widget);
            console.log(container);
            document.body.appendChild(container);
        }
        // Funkce pro otevření chatu na základě zařízení
        function openChatBasedOnDevice() {
            if (typeof $owidget !== 'undefined') {
                $owidget.openChat();
            } else {
                window.location.href = `https://bcrw.apple.com/urn:biz:${appleBussinessID}?biz-intent-id=${appleIntent}`;
            }
        }
    </script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P7C5QM7Q');</script>
<!-- End Google Tag Manager -->
{% render 'dataLayer-allPages' %}

  {% include 'pagefly-app-header' %}</head>

  <body class="gradient"><div class="pagefly-container">
              {{ content_for_layout }}
            </div></body>
</html>